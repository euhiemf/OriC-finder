// Generated by CoffeeScript 1.9.0
(function() {
  var EventListener, Traverser, namespace, reverseComplement;

  self.tree = {
    branches: {}
  };

  importScripts('./traverser-algoritms.js');

  Traverser = this.Traverser;

  EventListener = this.EventListener;

  namespace = this.namespace;

  reverseComplement = this.reverseComplement;

  this.traverseCommander = new EventListener();

  self.addEventListener('message', function(ev) {
    var data, index, message, seq, t;
    message = ev.data.message;
    data = ev.data.data;
    switch (message) {
      case 'traverse':
        seq = data.sequence;
        index = data.index;
        t = data.threshold;
        namespace(index, seq);
        traverseCommander.walk();
        new Traverser(seq, index, t, false);
        return new Traverser(reverseComplement(seq), index, t, true);
      case 'traverse-init':
        this.input = data.input;
        return self.postMessage({
          message: 'filter-init',
          data: {
            input: this.input
          }
        });
      case 'walk':
        return traverseCommander.walk(data.times);
    }
  });

}).call(this);

//# sourceMappingURL=traverser-worker.js.map
